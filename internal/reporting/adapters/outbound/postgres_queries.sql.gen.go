// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: postgres_queries.sql

package outbound

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const addMetric = `-- name: AddMetric :exec
INSERT INTO reporting.metrics (
    name,
    value
) VALUES (
    $1,
    $2
)
`

type AddMetricParams struct {
	Name  string  `db:"name" json:"name"`
	Value float64 `db:"value" json:"value"`
}

// AddMetric
//
//	INSERT INTO reporting.metrics (
//	    name,
//	    value
//	) VALUES (
//	    $1,
//	    $2
//	)
func (q *Queries) AddMetric(ctx context.Context, arg AddMetricParams) error {
	_, err := q.db.Exec(ctx, addMetric, arg.Name, arg.Value)
	return err
}

const addReport = `-- name: AddReport :exec
INSERT INTO reporting.reports (
    name,
    description,
    component_definitions
) VALUES (
    $1,
    $2,
    $3
)
`

type AddReportParams struct {
	Name                 string      `db:"name" json:"name"`
	Description          pgtype.Text `db:"description" json:"description"`
	ComponentDefinitions []byte      `db:"component_definitions" json:"component_definitions"`
}

// AddReport
//
//	INSERT INTO reporting.reports (
//	    name,
//	    description,
//	    component_definitions
//	) VALUES (
//	    $1,
//	    $2,
//	    $3
//	)
func (q *Queries) AddReport(ctx context.Context, arg AddReportParams) error {
	_, err := q.db.Exec(ctx, addReport, arg.Name, arg.Description, arg.ComponentDefinitions)
	return err
}

const getMetricByName = `-- name: GetMetricByName :one
SELECT name, value FROM reporting.metrics
WHERE name = $1
`

type GetMetricByNameParams struct {
	Name string `db:"name" json:"name"`
}

// GetMetricByName
//
//	SELECT name, value FROM reporting.metrics
//	WHERE name = $1
func (q *Queries) GetMetricByName(ctx context.Context, arg GetMetricByNameParams) (ReportingMetric, error) {
	row := q.db.QueryRow(ctx, getMetricByName, arg.Name)
	var i ReportingMetric
	err := row.Scan(&i.Name, &i.Value)
	return i, err
}

const getReportByName = `-- name: GetReportByName :one
SELECT name, description, component_definitions FROM reporting.reports
WHERE name = $1
`

type GetReportByNameParams struct {
	Name string `db:"name" json:"name"`
}

// GetReportByName
//
//	SELECT name, description, component_definitions FROM reporting.reports
//	WHERE name = $1
func (q *Queries) GetReportByName(ctx context.Context, arg GetReportByNameParams) (ReportingReport, error) {
	row := q.db.QueryRow(ctx, getReportByName, arg.Name)
	var i ReportingReport
	err := row.Scan(&i.Name, &i.Description, &i.ComponentDefinitions)
	return i, err
}

const updateMetric = `-- name: UpdateMetric :exec
UPDATE reporting.metrics
SET
    name = $1,
    value = $2
WHERE name = $1
`

type UpdateMetricParams struct {
	Name  string  `db:"name" json:"name"`
	Value float64 `db:"value" json:"value"`
}

// UpdateMetric
//
//	UPDATE reporting.metrics
//	SET
//	    name = $1,
//	    value = $2
//	WHERE name = $1
func (q *Queries) UpdateMetric(ctx context.Context, arg UpdateMetricParams) error {
	_, err := q.db.Exec(ctx, updateMetric, arg.Name, arg.Value)
	return err
}

const updateReport = `-- name: UpdateReport :exec
UPDATE reporting.reports
SET
    name = $1,
    description = $2,
    component_definitions = $3
WHERE name = $1
`

type UpdateReportParams struct {
	Name                 string      `db:"name" json:"name"`
	Description          pgtype.Text `db:"description" json:"description"`
	ComponentDefinitions []byte      `db:"component_definitions" json:"component_definitions"`
}

// UpdateReport
//
//	UPDATE reporting.reports
//	SET
//	    name = $1,
//	    description = $2,
//	    component_definitions = $3
//	WHERE name = $1
func (q *Queries) UpdateReport(ctx context.Context, arg UpdateReportParams) error {
	_, err := q.db.Exec(ctx, updateReport, arg.Name, arg.Description, arg.ComponentDefinitions)
	return err
}
